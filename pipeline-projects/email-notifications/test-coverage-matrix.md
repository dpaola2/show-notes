# Test Coverage Matrix — New User Signup Email Notifications

> Generated by Pipeline Stage 4 (Test Generation)
> Maps every gameplan acceptance criterion to its test location(s).

| Milestone | Criterion ID | Description | Test File | Describe/Context |
|-----------|-------------|-------------|-----------|------------------|
| M1 | EML-001 | New user creation triggers notification | `spec/requests/signup_notifications_spec.rb` | `context "with a new user"` — `it "enqueues a signup notification email"` |
| M1 | EML-002 | Recipient list includes both addresses | `spec/mailers/signup_notification_mailer_spec.rb` | `it "sends to the configured recipients"` |
| M1 | EML-003 | Subject format: "New Show Notes signup: {email}" | `spec/mailers/signup_notification_mailer_spec.rb` | `it "has the correct subject with user email"` |
| M1 | EML-004 | Body includes email + timestamp | `spec/mailers/signup_notification_mailer_spec.rb` | `it "includes the user email in the HTML body"`, `it "includes the signup timestamp in the HTML body"`, + text body equivalents |
| M1 | EML-005 | Async via deliver_later | `spec/requests/signup_notifications_spec.rb` | `have_enqueued_mail` matcher confirms enqueue (not inline delivery) |
| M1 | EML-006 | Failure doesn't block login | Architectural guarantee — `deliver_later` enqueues async; no test needed (testing Solid Queue internals) |
| M1 | EML-007 | Only new users, not returning | `spec/requests/signup_notifications_spec.rb` | `context "with an existing user"` — `it "does not enqueue a signup notification email"` |
| M1 | CFG-001 | Recipients as constant in mailer class | `spec/mailers/signup_notification_mailer_spec.rb` | `it "sends to the configured recipients"` (asserts exact addresses) |
| M2 | QA seed | Seed task creates test data | Manual verification — seed tasks are not unit-tested (per codebase convention) |

## Summary

- **8 PRD requirements** mapped to tests
- **9 test cases** across 2 spec files (7 mailer + 2 request)
- **1 criterion** (EML-006) covered by architectural design, not a unit test
- **1 criterion** (M2 seed task) covered by manual QA
- **0 gaps** — all criteria accounted for
